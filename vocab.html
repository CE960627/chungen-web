import React, { useState, useEffect, useMemo } from 'react';
import { BookOpen, AlertCircle, Lightbulb, PenTool, Hash, GraduationCap, Eye, EyeOff, CheckCircle, XCircle, HelpCircle, RefreshCw, BrainCircuit } from 'lucide-react';

const VocabularyApp = () => {
  const [activeTab, setActiveTab] = useState('verbs');
  const [isMasked, setIsMasked] = useState(false); // æ§åˆ¶æ˜¯å¦å…¨åŸŸé®ä½ä¸­æ–‡

  // ==========================================
  // Data Section (Based on Analysis)
  // ==========================================

  const verbsData = [
    { word: "acquire", level: 4, meaning: "ç²å¾—ï¼›ç¿’å¾—", note: "acquire knowledge/skills (ç¿’å¾—çŸ¥è­˜/æŠ€èƒ½)ã€‚å¸¸è€ƒèˆ‡ require (è¦æ±‚) çš„è¾¨æã€‚" },
    { word: "adapt", level: 4, meaning: "é©æ‡‰ï¼›æ”¹ç·¨", note: "adapt to (é©æ‡‰ç’°å¢ƒ)ã€‚111å¹´è€ƒéç”Ÿç‰©é©æ‡‰ç’°å¢ƒçš„è­°é¡Œã€‚æ³¨æ„èˆ‡ adopt (æ¡ç”¨/é ˜é¤Š) å€åˆ†ã€‚" },
    { word: "alter", level: 3, meaning: "æ”¹è®Š", note: "alter slightly (ç¨ä½œæ”¹è®Š)ã€‚å¸¸æ›¿æ› change, modifyã€‚" },
    { word: "anticipate", level: 4, meaning: "é æœŸï¼›æœŸæœ›", note: "anticipate changesã€‚å¸¸ç”¨æ–¼æè¿°ç§‘æŠ€æˆ–ç¤¾æœƒè¶¨å‹¢çš„é æ¸¬ã€‚" },
    { word: "associate", level: 4, meaning: "è¯æƒ³ï¼›èˆ‡...æœ‰é—œ", note: "be associated with (èˆ‡...æœ‰é—œé€£)ã€‚é–±è®€é¡Œå¸¸è€ƒå› æœé—œä¿‚æˆ–ç›¸é—œæ€§ã€‚" },
    { word: "attribute", level: 4, meaning: "æŠŠ...æ­¸å› æ–¼", note: "attribute A to B (æŠŠAæ­¸å› æ–¼B)ã€‚å¯«ä½œèˆ‡é–±è®€çš„é«˜é »å­—ã€‚" },
    { word: "decline", level: 4, meaning: "ä¸‹é™ï¼›å©‰æ‹’", note: "sharp decline (æ€¥é½ä¸‹é™)ã€‚åœ–è¡¨é¡Œå¿…å‚™å–®å­—ã€‚" },
    { word: "demonstrate", level: 4, meaning: "ç¤ºç¯„ï¼›é¡¯ç¤ºï¼›ç¤ºå¨", note: "å¯¦é©—çµæœé¡¯ç¤º (studies demonstrate...)ã€‚" },
    { word: "encounter", level: 4, meaning: "é­é‡ï¼›é‡åˆ°", note: "encounter difficulties (é‡åˆ°å›°é›£)ã€‚å¸¸å‡ºç¾æ–¼è¨˜æ•˜æ–‡æˆ–äººç‰©å‚³è¨˜ã€‚" },
    { word: "establish", level: 3, meaning: "å»ºç«‹", note: "establish a connectionã€‚åŒç¾©è©ï¼šset up, foundã€‚" },
    { word: "evaluate", level: 4, meaning: "è©•ä¼°", note: "evaluate the performanceã€‚æ··åˆé¡Œå¸¸å•ä½œè€…å¦‚ä½•ã€Œè©•ä¼°ã€æŸå€‹ç¾è±¡ã€‚" },
    { word: "expose", level: 3, meaning: "æš´éœ²ï¼›æ¥è§¸", note: "be exposed to (æš´éœ²æ–¼/æ¥è§¸åˆ°)ã€‚å¸¸è€ƒé™½å…‰æ›æ›¬æˆ–å­©ç«¥æ¥è§¸åª’é«”æš´åŠ›ã€‚" },
    { word: "indicate", level: 3, meaning: "æŒ‡å‡ºï¼›é¡¯ç¤º", note: "ç ”ç©¶æŒ‡å‡º (research indicates)ã€‚é–±è®€æ¸¬é©—ç´°ç¯€é¡Œé—œéµå­—ã€‚" },
    { word: "maintain", level: 3, meaning: "ç¶­æŒï¼›ä¸»å¼µ", note: "maintain a balance (ç¶­æŒå¹³è¡¡)ã€‚" },
    { word: "observe", level: 3, meaning: "è§€å¯Ÿï¼›éµå®ˆ", note: "observe the rules (éµå®ˆè¦å‰‡) æ˜¯æ˜“éŒ¯é»ã€‚" },
    { word: "overcome", level: 3, meaning: "å…‹æœ", note: "overcome obstacles/challenges (å…‹æœéšœç¤™/æŒ‘æˆ°)ã€‚" },
    { word: "preserve", level: 4, meaning: "ä¿å­˜ï¼›ç¶­è­·", note: "preserve cultural heritage (ä¿å­˜æ–‡åŒ–éºç”¢)ã€‚ç’°å¢ƒèˆ‡æ–‡åŒ–é¡Œå‹å¸¸å®¢ã€‚" },
    { word: "promote", level: 3, meaning: "ä¿ƒé€²ï¼›æ¨éŠ·ï¼›å‡é·", note: "promote health (ä¿ƒé€²å¥åº·)ã€‚" },
    { word: "recommend", level: 3, meaning: "æ¨è–¦ï¼›å»ºè­°", note: "strongly recommendã€‚" },
    { word: "reinforce", level: 4, meaning: "å¼·åŒ–ï¼›åŠ å¼·", note: "reinforce the idea (å¼·åŒ–é€™å€‹è§€é»)ã€‚" },
    { word: "reveal", level: 3, meaning: "æ­éœ²", note: "reveal the truthã€‚åŒç¾©è©ï¼šdisclose, unveilã€‚" },
    { word: "transfer", level: 3, meaning: "è½‰ç§»ï¼›è½‰ä¹˜", note: "file transfer (æª”æ¡ˆå‚³è¼¸)ï¼›transfer to another trainã€‚" },
    { word: "transform", level: 4, meaning: "è½‰è®Š", note: "transform A into Bã€‚ç§‘æŠ€æ”¹è®Šç”Ÿæ´»æˆ–æ˜¯èƒ½æºè½‰æ›çš„é¡Œå‹ã€‚" }
  ];

  const adjectivesData = [
    { word: "accessible", level: 4, meaning: "å¯å­˜å–çš„ï¼›æ˜“æ¥è¿‘çš„", note: "accessible to the publicã€‚å¸¸ç”¨æ–¼ç¶²è·¯è³‡æºæˆ–ç„¡éšœç¤™ç©ºé–“è©±é¡Œã€‚" },
    { word: "alternative", level: 4, meaning: "æ›¿ä»£çš„ï¼›å¦é¡çš„", note: "alternative energy (æ›¿ä»£èƒ½æº)ã€‚ç’°ä¿è­°é¡Œå¿…è€ƒã€‚" },
    { word: "annual", level: 3, meaning: "æ¯å¹´çš„", note: "annual income/reportã€‚" },
    { word: "anxious", level: 4, meaning: "ç„¦æ…®çš„ï¼›æ¸´æœ›çš„", note: "anxious about (å°...æ„Ÿåˆ°ç„¦æ…®)ã€‚å¿ƒç†å¥åº·è­°é¡Œå¸¸è¦‹ã€‚" },
    { word: "appropriate", level: 4, meaning: "é©ç•¶çš„", note: "take appropriate actionã€‚åŒç¾©è©ï¼šproper, suitableã€‚" },
    { word: "artificial", level: 4, meaning: "äººé€ çš„", note: "Artificial Intelligence (AI)ï¼›artificial flavors (äººå·¥é¦™æ–™)ã€‚" },
    { word: "available", level: 3, meaning: "å¯å–å¾—çš„ï¼›æœ‰ç©ºçš„", note: "æœ€åŸºç¤ä½†æœ€é«˜é »ï¼Œè½åŠ›èˆ‡é–±è®€éƒ½å¸¸å‡ºç¾ã€‚" },
    { word: "aware", level: 3, meaning: "æ„è­˜åˆ°çš„", note: "be aware ofã€‚ç’°ä¿æ„è­˜ (environmental awareness) å¸¸è€ƒåè©å½¢ã€‚" },
    { word: "confused", level: 3, meaning: "å›°æƒ‘çš„", note: "å¸¸ç”¨æ–¼æƒ…ç·’é¡Œã€‚æ³¨æ„ confusing (ä»¤äººå›°æƒ‘çš„) çš„å€åˆ¥ã€‚" },
    { word: "conservative", level: 4, meaning: "ä¿å®ˆçš„", note: "conservative estimate (ä¿å®ˆä¼°è¨ˆ)ã€‚" },
    { word: "consistent", level: 4, meaning: "ä¸€è‡´çš„ï¼›å§‹çµ‚å¦‚ä¸€çš„", note: "consistent with (èˆ‡...ä¸€è‡´)ã€‚é‚è¼¯é€£è²«æ€§çš„é—œéµå­—ã€‚" },
    { word: "considerable", level: 4, meaning: "ç›¸ç•¶å¤§çš„ï¼›é‡è¦çš„", note: "considerable amountã€‚æ³¨æ„èˆ‡ considerate (é«”è²¼çš„) å€åˆ†ã€‚" },
    { word: "crucial", level: 4, meaning: "æ±ºå®šæ€§çš„ï¼›é—œéµçš„", note: "play a crucial role (æ‰®æ¼”é—œéµè§’è‰²)ã€‚å¯«ä½œåŠ åˆ†å­—ã€‚" },
    { word: "current", level: 3, meaning: "ç›®å‰çš„ï¼›ç¾è¡Œçš„", note: "current trends (ç›®å‰è¶¨å‹¢)ã€‚" },
    { word: "diverse", level: 4, meaning: "å¤šæ¨£çš„", note: "culturally diverseã€‚å¤šæ¨£æ€§ (Diversity) æ˜¯è¿‘å¹´ç¤¾æœƒé¡Œä¸»æµã€‚" },
    { word: "domestic", level: 4, meaning: "åœ‹å…§çš„ï¼›å®¶åº­çš„", note: "domestic violence (å®¶æš´)ï¼›domestic market (åœ‹å…§å¸‚å ´)ã€‚" },
    { word: "efficient", level: 4, meaning: "æœ‰æ•ˆç‡çš„", note: "energy-efficient (ç¯€èƒ½çš„)ã€‚" },
    { word: "essential", level: 4, meaning: "å¿…è¦çš„ï¼›æœ¬è³ªçš„", note: "It is essential that...ã€‚åŒç¾©è©ï¼švital, necessaryã€‚" },
    { word: "financial", level: 4, meaning: "è²¡å‹™çš„", note: "financial crisis (é‡‘èå±æ©Ÿ)ã€‚" },
    { word: "gradual", level: 4, meaning: "é€æ¼¸çš„", note: "gradual changeã€‚æ°£å€™è®Šé·å¸¸ç”¨å­—ã€‚" },
    { word: "mental", level: 3, meaning: "å¿ƒç†çš„ï¼›å¿ƒæ™ºçš„", note: "mental health (å¿ƒç†å¥åº·)ã€‚è¿‘å¹´è¶…é«˜é »ã€‚" },
    { word: "negative", level: 3, meaning: "è² é¢çš„", note: "negative impactã€‚" },
    { word: "obvious", level: 3, meaning: "æ˜é¡¯çš„", note: "It is obvious that...ã€‚åŒç¾©è©ï¼šapparent, evidentã€‚" },
    { word: "potential", level: 4, meaning: "æ½›åœ¨çš„ï¼›å¯èƒ½çš„", note: "potential customers/risksã€‚" },
    { word: "precise", level: 4, meaning: "ç²¾ç¢ºçš„", note: "precise measurementsã€‚ç§‘å­¸é¡Œå‹å¸¸ç”¨ã€‚" },
    { word: "psychological", level: 4, meaning: "å¿ƒç†(å­¸)çš„", note: "psychological effectsã€‚" },
    { word: "reluctant", level: 5, meaning: "ä¸æƒ…é¡˜çš„", note: "be reluctant to Vã€‚å½¢å®¹äººç‰©æ…‹åº¦çš„é—œéµå­—ã€‚" },
    { word: "significant", level: 4, meaning: "é‡è¦çš„ï¼›é¡¯è‘—çš„", note: "significant improvementã€‚åœ–è¡¨åˆ†æå¯«ä½œå¿…å‚™ã€‚" },
    { word: "specific", level: 3, meaning: "ç‰¹å®šçš„ï¼›å…·é«”çš„", note: "be specific aboutã€‚" },
    { word: "sustainable", level: 5, meaning: "æ°¸çºŒçš„", note: "sustainable development (æ°¸çºŒç™¼å±•)ã€‚108èª²ç¶±æ ¸å¿ƒé—œéµå­—ã€‚" },
    { word: "unique", level: 3, meaning: "ç¨ç‰¹çš„", note: "unique to (æŸåœ°ç‰¹æœ‰çš„)ã€‚" },
    { word: "vulnerable", level: 5, meaning: "æ˜“å—å‚·çš„ï¼›è„†å¼±çš„", note: "be vulnerable to (æ˜“å—...å½±éŸ¿)ã€‚å¸¸è€ƒè€å¹´äººæ˜“å—ç–¾ç—…æ„ŸæŸ“ï¼Œæˆ–åœ°å€æ˜“å—ç½å®³å½±éŸ¿ã€‚" }
  ];

  const nounsData = [
    { word: "access", level: 4, meaning: "é€”å¾‘ï¼›ä½¿ç”¨æ¬Š", note: "have access to (å¾—ä»¥ä½¿ç”¨/é€²å…¥)ã€‚" },
    { word: "application", level: 3, meaning: "ç”³è«‹ï¼›æ‡‰ç”¨", note: "mobile apps (æ‡‰ç”¨ç¨‹å¼)ï¼›job applicationã€‚" },
    { word: "aspect", level: 3, meaning: "æ–¹é¢ï¼›å±¤é¢", note: "every aspect of lifeã€‚" },
    { word: "barrier", level: 3, meaning: "éšœç¤™", note: "language barrier (èªè¨€éš”é–¡)ã€‚" },
    { word: "campaign", level: 4, meaning: "æ´»å‹•(ç¤¾æœƒ/æ”¿æ²»)", note: "launch a campaign (ç™¼èµ·æ´»å‹•)ã€‚" },
    { word: "characteristic", level: 4, meaning: "ç‰¹å¾µ", note: "defining characteristicã€‚åŒç¾©è©ï¼šfeature, traitã€‚" },
    { word: "circumstance", level: 4, meaning: "æƒ…æ³ï¼›ç’°å¢ƒ", note: "under no circumstances (çµ•ä¸) â€” å€’è£å¥è€ƒé»ã€‚" },
    { word: "consequence", level: 4, meaning: "å¾Œæœ", note: "as a consequence (å› æ­¤)ã€‚" },
    { word: "convention", level: 4, meaning: "æ…£ä¾‹ï¼›å¤§æœƒï¼›ç¿’ä¿—", note: "social conventionsã€‚æ‰“ç ´å‚³çµ± (break conventions) å¸¸è€ƒã€‚" },
    { word: "decline", level: 4, meaning: "ä¸‹é™ï¼›è¡°é€€", note: "æ—¢æ˜¯å‹•è©ä¹Ÿæ˜¯åè©ã€‚in declineã€‚" },
    { word: "disaster", level: 3, meaning: "ç½é›£", note: "natural disasterã€‚" },
    { word: "emphasis", level: 4, meaning: "å¼·èª¿", note: "put emphasis onã€‚" },
    { word: "evidence", level: 3, meaning: "è­‰æ“š", note: "scientific evidenceã€‚" },
    { word: "factor", level: 3, meaning: "å› ç´ ", note: "key factorã€‚" },
    { word: "impact", level: 4, meaning: "è¡æ“Šï¼›å½±éŸ¿", note: "have a huge impact onã€‚å¯«ä½œè¬ç”¨å­—ã€‚" },
    { word: "infection", level: 4, meaning: "æ„ŸæŸ“", note: "viral infectionã€‚ç–«æƒ…ç›¸é—œæ–‡ç« å¿…å‚™ã€‚" },
    { word: "innovation", level: 5, meaning: "å‰µæ–°", note: "technological innovationã€‚" },
    { word: "interaction", level: 4, meaning: "äº’å‹•", note: "social interactionã€‚" },
    { word: "measure", level: 3, meaning: "æªæ–½ï¼›æ¸¬é‡", note: "take measures to V (æ¡å–æªæ–½å»...)ã€‚" },
    { word: "phenomenon", level: 4, meaning: "ç¾è±¡", note: "natural phenomenonã€‚è¤‡æ•¸å½¢æ˜¯ phenomenaã€‚" },
    { word: "priority", level: 4, meaning: "å„ªå…ˆäº‹é …", note: "top priorityã€‚" },
    { word: "reduction", level: 4, meaning: "æ¸›å°‘", note: "carbon reduction (æ¸›ç¢³)ã€‚" },
    { word: "resident", level: 4, meaning: "å±…æ°‘", note: "local residentsã€‚" },
    { word: "resource", level: 3, meaning: "è³‡æº", note: "natural resourcesã€‚" },
    { word: "solution", level: 3, meaning: "è§£æ±ºæ–¹æ³•", note: "solution to the problem (ä»‹ç³»è©ç”¨ to)ã€‚" },
    { word: "strategy", level: 4, meaning: "ç­–ç•¥", note: "adopt a strategyã€‚" },
    { word: "survey", level: 3, meaning: "èª¿æŸ¥", note: "conduct a surveyã€‚" },
    { word: "technology", level: 3, meaning: "ç§‘æŠ€", note: "åŠå…¶è®ŠåŒ–å½¢ï¼štechnological, technicianã€‚" },
    { word: "trend", level: 3, meaning: "è¶¨å‹¢", note: "current trendã€‚" },
    { word: "victim", level: 3, meaning: "å—å®³è€…", note: "fall victim to (æˆç‚º...çš„å—å®³è€…)ã€‚" }
  ];

  const adverbsData = [
    { word: "approximately", desc: "å¤§ç´„ (åœ–è¡¨æ•¸æ“šé¡Œ)" },
    { word: "automatically", desc: "è‡ªå‹•åœ°" },
    { word: "constantly", desc: "ä¸æ–·åœ° (Level 4, å¸¸ç”¨æ–¼å¼·èª¿ç¿’æ…£æˆ–æŒçºŒçš„ç¾è±¡)" },
    { word: "currently", desc: "ç›®å‰åœ°" },
    { word: "deliberately", desc: "æ•…æ„åœ° (Level 5, åŒç¾©ï¼šintentionally)" },
    { word: "eventually", desc: "æœ€çµ‚ (å¼·èª¿ç¶“éé•·æ™‚é–“å¾Œçš„çµæœ)" },
    { word: "frequently", desc: "é »ç¹åœ°" },
    { word: "gradually", desc: "é€æ¼¸åœ° (æè¿°æ”¹è®Šéç¨‹)" },
    { word: "relatively", desc: "ç›¸å°åœ° (be relatively cheap/easy)" },
    { word: "temporarily", desc: "æš«æ™‚åœ°" }
  ];

  const confusingPairs = [
    { pair: "adapt / adopt / adept", desc: "é©æ‡‰(æ”¹ç·¨) / æ¡ç”¨(é ˜é¤Š) / ç†Ÿç·´çš„" },
    { pair: "affect / effect", desc: "å½±éŸ¿(v.) / æ•ˆæœ(n.)" },
    { pair: "considerable / considerate", desc: "ç›¸ç•¶å¤§çš„ / é«”è²¼çš„" },
    { pair: "economic / economical", desc: "ç¶“æ¿Ÿä¸Šçš„ / ç¯€ç´„çš„" },
    { pair: "respectful / respective / respectable", desc: "æ­æ•¬çš„ / åˆ†åˆ¥çš„ / å€¼å¾—å°Šæ•¬çš„" }
  ];

  const tipsData = [
    { title: "æƒ…å¢ƒè¨˜æ†¶", content: "ä¸è¦æ­»èƒŒä¸­æ–‡ã€‚ä¾‹å¦‚èƒŒ accessible æ™‚ï¼Œæƒ³è‘—ã€ŒWIFI is accessible hereã€æˆ–ã€ŒWheelchair accessibleã€ã€‚" },
    { title: "æ³¨æ„å¤šç¾©å­—", content: "å­¸æ¸¬æ„›è€ƒç†Ÿè©ç”Ÿç¾©ã€‚ä¾‹å¦‚ observe (æ…¶ç¥/éµå®ˆ)ã€consume (åƒå–)ã€address (æ¼”èªª/è™•ç†)ã€‚" },
    { title: "é—œéµ Level 5", content: "è‹¥ç›®æ¨™æ˜¯å‰æ¨™æˆ–é ‚æ¨™ï¼Œvulnerable, reluctant, innovation, sustainable é€™é¡å­—æ˜¯é–±è®€æ¸¬é©—çš„åˆ†æ°´å¶ºã€‚" }
  ];

  // ==========================================
  // AI Question Bank (Simulation)
  // ==========================================
   
  // Expanded pool of questions generated based on the high-freq vocab list
  const fullQuestionBank = [
    {
      id: 1,
      question: "The government has decided to _____ new measures to combat climate change, focusing on reducing carbon emissions.",
      options: ["A) acquire", "B) adopt", "C) adapt", "D) associate"],
      answer: "B",
      explanation: "è§£æï¼š(B) adopt æ¡ç”¨(æªæ–½/æ–¹æ³•)ã€‚èªæ„ç‚ºã€Œæ”¿åºœæ±ºå®šæ¡å–æ–°æªæ–½...ã€ã€‚(A)ç²å¾— (C)é©æ‡‰/æ”¹ç·¨ (D)è¯æƒ³ï¼Œçš†ä¸åˆèªæ„ã€‚æ³¨æ„ adapt (é©æ‡‰) èˆ‡ adopt (æ¡ç”¨) çš„å€åˆ¥ã€‚"
    },
    {
      id: 2,
      question: "Elderly people are particularly _____ to the flu, so it is recommended that they get vaccinated every year.",
      options: ["A) reluctant", "B) sustainable", "C) vulnerable", "D) efficient"],
      answer: "C",
      explanation: "è§£æï¼š(C) vulnerable æ˜“å—å‚·å®³/å½±éŸ¿çš„ã€‚be vulnerable to æ˜¯æ…£ç”¨æ³•ï¼Œæ„æŒ‡ã€Œæ˜“å—æµæ„Ÿæ„ŸæŸ“ã€ã€‚(A)ä¸æƒ…é¡˜çš„ (B)æ°¸çºŒçš„ (D)æœ‰æ•ˆç‡çš„ã€‚"
    },
    {
      id: 3,
      question: "It is _____ that all students attend the orientation to understand the school regulations.",
      options: ["A) essential", "B) diverse", "C) artificial", "D) vague"],
      answer: "A",
      explanation: "è§£æï¼š(A) essential å¿…è¦çš„ã€‚å¥å‹ It is essential that ... (æŸäº‹æ˜¯å¿…è¦çš„)ã€‚(B)å¤šæ¨£çš„ (C)äººé€ çš„ (D)æ¨¡ç³Šçš„ã€‚"
    },
    {
      id: 4,
      question: "Despite the bad weather, the athlete _____ his training routine to prepare for the upcoming Olympics.",
      options: ["A) observed", "B) maintained", "C) estimated", "D) collapsed"],
      answer: "B",
      explanation: "è§£æï¼š(B) maintained ç¶­æŒã€‚maintain one's routine ç¶­æŒæ…£ä¾‹ã€‚(A)è§€å¯Ÿ/éµå®ˆ (C)ä¼°è¨ˆ (D)å€’å¡Œã€‚"
    },
    {
      id: 5,
      question: "Technological _____ has changed the way we communicate, making it much faster and more convenient.",
      options: ["A) convention", "B) innovation", "C) barrier", "D) victim"],
      answer: "B",
      explanation: "è§£æï¼š(B) innovation å‰µæ–°ã€‚Technological innovation (ç§‘æŠ€å‰µæ–°) æ˜¯é«˜é »æ­é…è©ã€‚(A)æ…£ä¾‹/å¤§æœƒ (C)éšœç¤™ (D)å—å®³è€…ã€‚"
    },
    {
      id: 6,
      question: "Before making a decision, we need to _____ all possible risks and benefits carefully.",
      options: ["A) evaluate", "B) promote", "C) encounter", "D) expose"],
      answer: "A",
      explanation: "è§£æï¼š(A) evaluate è©•ä¼°ã€‚èªæ„ç‚ºã€Œæˆ‘å€‘éœ€è¦ä»”ç´°è©•ä¼°æ‰€æœ‰å¯èƒ½çš„é¢¨éšªèˆ‡åˆ©ç›Šã€ã€‚(B)ä¿ƒé€² (C)é­é‡ (D)æš´éœ²ã€‚"
    },
    {
      id: 7,
      question: "The company's profits have been in _____ for three consecutive years due to the economic recession.",
      options: ["A) priority", "B) decline", "C) access", "D) survey"],
      answer: "B",
      explanation: "è§£æï¼š(B) decline ä¸‹é™/è¡°é€€ã€‚in decline ç‚ºç‰‡èªï¼Œæ„æŒ‡ã€Œè™•æ–¼è¡°é€€ä¸­ã€ã€‚(A)å„ªå…ˆäº‹é … (C)é€”å¾‘ (D)èª¿æŸ¥ã€‚"
    },
    {
      id: 8,
      question: "To protect the environment, many countries are looking for _____ energy sources like solar and wind power.",
      options: ["A) alternative", "B) anxious", "C) reluctant", "D) obvious"],
      answer: "A",
      explanation: "è§£æï¼š(A) alternative æ›¿ä»£çš„ã€‚alternative energy (æ›¿ä»£èƒ½æº) ç‚ºé«˜é »æ­é…è©ã€‚(B)ç„¦æ…®çš„ (C)ä¸æƒ…é¡˜çš„ (D)æ˜é¡¯çš„ã€‚"
    },
    {
      id: 9,
      question: "The study _____ a strong link between lack of sleep and poor academic performance.",
      options: ["A) transfers", "B) reveals", "C) acquires", "D) preserves"],
      answer: "B",
      explanation: "è§£æï¼š(B) reveals æ­éœ²/é¡¯ç¤ºã€‚ç ”ç©¶(study)é¡¯ç¤ºçµæœï¼Œå¸¸ç”¨ reveal æˆ– indicateã€‚(A)è½‰ç§» (C)ç²å¾— (D)ä¿å­˜ã€‚"
    },
    {
      id: 10,
      question: "It is important to be _____ of your surroundings when walking alone at night.",
      options: ["A) aware", "B) consistent", "C) mental", "D) domestic"],
      answer: "A",
      explanation: "è§£æï¼š(A) aware æ„è­˜åˆ°çš„ã€‚be aware of ç‚ºæ…£ç”¨èªã€‚(B)ä¸€è‡´çš„ (C)å¿ƒç†çš„ (D)åœ‹å…§çš„/å®¶åº­çš„ã€‚"
    },
    {
      id: 11,
      question: "The new policy aims to _____ gender equality in the workplace.",
      options: ["A) promote", "B) decline", "C) overcome", "D) anticipate"],
      answer: "A",
      explanation: "è§£æï¼š(A) promote ä¿ƒé€²ã€‚ä¿ƒé€²æ€§åˆ¥å¹³ç­‰ (promote equality)ã€‚(B)ä¸‹é™ (C)å…‹æœ (D)é æœŸã€‚"
    },
    {
      id: 12,
      question: "Since the evidence was not _____, the judge could not make a final decision immediately.",
      options: ["A) consistent", "B) reluctant", "C) artificial", "D) annual"],
      answer: "A",
      explanation: "è§£æï¼š(A) consistent ä¸€è‡´çš„ã€‚æŒ‡è­‰æ“šå‰å¾Œä¸ä¸€æˆ–èˆ‡äº‹å¯¦ä¸ç¬¦ã€‚(B)ä¸æƒ…é¡˜çš„ (C)äººé€ çš„ (D)æ¯å¹´çš„ã€‚"
    },
    {
      id: 13,
      question: "Many students feel _____ about their future careers because of the rapidly changing job market.",
      options: ["A) efficient", "B) anxious", "C) specific", "D) potential"],
      answer: "B",
      explanation: "è§£æï¼š(B) anxious ç„¦æ…®çš„ã€‚feel anxious about å°...æ„Ÿåˆ°ç„¦æ…®ã€‚(A)æœ‰æ•ˆç‡çš„ (C)å…·é«”çš„ (D)æ½›åœ¨çš„ã€‚"
    },
    {
      id: 14,
      question: "Without a common language, the two groups faced a significant _____ to communication.",
      options: ["A) barrier", "B) resource", "C) strategy", "D) convention"],
      answer: "A",
      explanation: "è§£æï¼š(A) barrier éšœç¤™ã€‚language barrier (èªè¨€éš”é–¡)ã€‚(B)è³‡æº (C)ç­–ç•¥ (D)æ…£ä¾‹ã€‚"
    },
    {
      id: 15,
      question: "We need to find a _____ solution to the problem, rather than just a temporary fix.",
      options: ["A) sustainable", "B) gradual", "C) psychological", "D) negative"],
      answer: "A",
      explanation: "è§£æï¼š(A) sustainable æ°¸çºŒçš„/å¯æŒçºŒçš„ã€‚èˆ‡ temporary (æš«æ™‚çš„) å½¢æˆå°æ¯”ã€‚(B)é€æ¼¸çš„ (C)å¿ƒç†çš„ (D)è² é¢çš„ã€‚"
    }
  ];

  // Helper to shuffle and pick N items
  const getRandomQuestions = (n) => {
    const shuffled = [...fullQuestionBank].sort(() => 0.5 - Math.random());
    return shuffled.slice(0, n);
  };

  // ==========================================
  // Components
  // ==========================================

  const RevealableText = ({ text, isMasked }) => {
    const [isRevealed, setIsRevealed] = useState(false);

    // ç•¶å…¨åŸŸé®è”½ç‹€æ…‹æ”¹è®Š(é‡ç½®)æ™‚ï¼Œå°‡å€‹åˆ¥é¡¯ç¤ºç‹€æ…‹è¨­ç‚º false
    useEffect(() => {
      setIsRevealed(false);
    }, [isMasked]);

    const show = !isMasked || isRevealed;

    return (
      <div 
        onClick={() => isMasked && setIsRevealed(!isRevealed)}
        className={`transition-all duration-300 relative rounded px-2 py-1 -ml-2 select-none ${isMasked ? 'cursor-pointer hover:bg-slate-100' : ''}`}
      >
        <div className={`transition-all duration-300 ${!show ? 'blur-sm bg-slate-200 text-slate-200' : 'text-slate-600'}`}>
          {text}
        </div>
        {!show && (
          <div className="absolute inset-0 flex items-center justify-center text-slate-500 text-xs font-bold pointer-events-none">
            <EyeOff size={14} className="mr-1" /> é»æ“Šé¡¯ç¤º
          </div>
        )}
      </div>
    );
  };

  const TableView = ({ data }) => {
    return (
      <div className="overflow-x-auto rounded-lg border border-slate-200 shadow-sm bg-white">
        <table className="w-full text-left text-sm">
          <thead className="bg-slate-100 text-slate-700 font-semibold">
            <tr>
              <th className="p-4 w-1/4">å–®å­— (Word)</th>
              <th className="p-4 w-20 text-center">ç´šåˆ¥</th>
              <th className="p-4 w-1/4">
                <div className="flex items-center gap-2">
                  ä¸­æ–‡é‡‹ç¾©
                  {isMasked && <span className="text-xs font-normal text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full">é»æ“ŠæŸ¥çœ‹</span>}
                </div>
              </th>
              <th className="p-4">æ­·å±†è€ƒé»èˆ‡æ­é…</th>
            </tr>
          </thead>
          <tbody className="divide-y divide-slate-100 bg-white">
            {data.map((item, idx) => (
              <tr key={idx} className="hover:bg-slate-50 transition-colors">
                <td className="p-4 font-bold text-slate-800 text-lg">{item.word}</td>
                <td className="p-4 text-center">
                  <span className={`inline-block px-2 py-1 rounded text-xs font-bold ${item.level >= 5 ? 'bg-red-100 text-red-700' : 'bg-blue-100 text-blue-700'}`}>
                    L{item.level}
                  </span>
                </td>
                <td className="p-4">
                  <RevealableText text={item.meaning} isMasked={isMasked} />
                </td>
                <td className="p-4 text-slate-600 leading-relaxed text-sm">{item.note}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    );
  };

  const PracticeMode = () => {
    const [questions, setQuestions] = useState([]);
    const [selectedAnswers, setSelectedAnswers] = useState({});
    const [showResults, setShowResults] = useState({});
    const [loading, setLoading] = useState(false);

    // Initial load
    useEffect(() => {
      generateNewTest();
    }, []);

    const generateNewTest = () => {
      setLoading(true);
      // Simulate AI thinking time
      setTimeout(() => {
        setQuestions(getRandomQuestions(5));
        setSelectedAnswers({});
        setShowResults({});
        setLoading(false);
      }, 600);
    };

    const handleSelect = (qId, optionPrefix) => {
      if (showResults[qId]) return;
      setSelectedAnswers(prev => ({...prev, [qId]: optionPrefix}));
    };

    const checkAnswer = (qId) => {
      setShowResults(prev => ({...prev, [qId]: true}));
    };

    return (
      <div className="space-y-6 max-w-4xl mx-auto">
        <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
          <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <div>
              <h2 className="text-xl font-bold text-slate-800 mb-2 flex items-center gap-2">
                <BrainCircuit className="text-indigo-600" />
                AI ä»¿çœŸå­¸æ¸¬é¡Œåº« (è©å½™é¡Œ)
              </h2>
              <p className="text-slate-600 text-sm">
                ç³»çµ±å·²å¾æ ¸å¿ƒå–®å­—åº«ä¸­éš¨æ©Ÿç”Ÿæˆè©¦å·ã€‚
              </p>
            </div>
            <button 
              onClick={generateNewTest}
              className="flex items-center gap-2 px-5 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-md active:scale-95"
            >
              <RefreshCw size={18} className={loading ? 'animate-spin' : ''} />
              {loading ? 'ç”Ÿæˆä¸­...' : 'ç”Ÿæˆæ–°è©¦å·'}
            </button>
          </div>
        </div>

        {questions.map((q, index) => {
          const userAns = selectedAnswers[q.id];
          const isChecked = showResults[q.id];
          const isCorrect = userAns === q.answer;

          return (
            <div key={q.id} className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 transition-all hover:shadow-md animate-fade-in-up">
              <div className="flex gap-3 mb-4">
                <span className="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-indigo-100 text-indigo-700 font-bold rounded-full">
                  {index + 1}
                </span>
                <p className="text-lg text-slate-800 font-medium leading-relaxed">
                  {q.question.split('_____').map((part, i, arr) => (
                    <React.Fragment key={i}>
                      {part}
                      {i < arr.length - 1 && (
                        <span className={`inline-block border-b-2 w-20 mx-1 text-center font-bold transition-colors ${isChecked ? (isCorrect ? 'border-green-500 text-green-600' : 'border-red-500 text-red-600') : 'border-slate-300 text-blue-600'}`}>
                           {isChecked ? (q.answer === userAns ? userAns : (userAns || '')) : (userAns || '')}
                        </span>
                      )}
                    </React.Fragment>
                  ))}
                </p>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-3 ml-11">
                {q.options.map(opt => {
                  const optPrefix = opt.charAt(0);
                  let btnClass = "border-slate-200 hover:bg-slate-50 text-slate-600";
                  
                  if (userAns === optPrefix) {
                    btnClass = "border-indigo-500 bg-indigo-50 text-indigo-700 font-semibold ring-1 ring-indigo-500";
                  }

                  if (isChecked) {
                    if (optPrefix === q.answer) {
                      btnClass = "border-green-500 bg-green-50 text-green-700 font-bold ring-1 ring-green-500";
                    } else if (userAns === optPrefix && userAns !== q.answer) {
                      btnClass = "border-red-300 bg-red-50 text-red-600 opacity-60";
                    } else {
                      btnClass = "opacity-50 grayscale border-slate-100";
                    }
                  }

                  return (
                    <button
                      key={opt}
                      onClick={() => handleSelect(q.id, optPrefix)}
                      disabled={isChecked}
                      className={`text-left px-4 py-3 rounded-lg border transition-all flex items-center justify-between ${btnClass}`}
                    >
                      <span>{opt}</span>
                      {isChecked && optPrefix === q.answer && <CheckCircle size={18} className="text-green-600" />}
                      {isChecked && userAns === optPrefix && userAns !== q.answer && <XCircle size={18} className="text-red-500" />}
                    </button>
                  );
                })}
              </div>

              <div className="mt-6 ml-11 flex items-center justify-between">
                {!isChecked ? (
                   <button
                    onClick={() => checkAnswer(q.id)}
                    disabled={!userAns}
                    className={`px-6 py-2 rounded-lg font-bold text-white transition-all ${userAns ? 'bg-indigo-600 hover:bg-indigo-700 shadow-md hover:shadow-lg' : 'bg-slate-300 cursor-not-allowed'}`}
                   >
                     æª¢æŸ¥ç­”æ¡ˆ
                   </button>
                ) : (
                  <div className={`p-4 rounded-lg w-full ${isCorrect ? 'bg-green-50 border border-green-100' : 'bg-red-50 border border-red-100'}`}>
                    <div className="flex items-center gap-2 font-bold mb-2">
                      {isCorrect ? (
                        <span className="text-green-700 flex items-center gap-1"><CheckCircle size={20}/> Correct!</span>
                      ) : (
                        <span className="text-red-700 flex items-center gap-1"><XCircle size={20}/> Wrong. Answer: {q.answer}</span>
                      )}
                    </div>
                    <p className="text-slate-700 text-sm leading-relaxed">
                      {q.explanation}
                    </p>
                  </div>
                )}
              </div>
            </div>
          );
        })}
      </div>
    );
  };

  // ==========================================
  // Render
  // ==========================================

  return (
    <div className="min-h-screen bg-slate-50 text-slate-800 font-sans selection:bg-indigo-200">
      
      {/* çµ±ä¸€å°è¦½åˆ— (å·²è½‰ç‚º React JSX æ ¼å¼) */}
      <nav className="bg-gray-900 text-white shadow-lg sticky top-0 z-[60]">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex items-center justify-between h-16">
                <div className="flex-shrink-0 font-bold text-xl tracking-wider">
                    <a href="index.html" className="text-white hover:text-yellow-400 transition flex items-center gap-2">
                        <span className="text-2xl">ğŸ“</span> Chungen English
                    </a>
                </div>
                <div className="hidden md:block">
                    <div className="ml-10 flex items-baseline space-x-4">
                        <a href="index.html" className="text-gray-300 hover:text-white hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition">å­¸æ¸¬è‹±æ–‡æŒ‡å¼•</a>
                        {/* é»ƒè‰²é«˜äº®ï¼šæ­·å±†é«˜é »å–®å­—ç¥å™¨ */}
                        <a href="vocab.html" className="bg-gray-800 text-yellow-400 px-3 py-2 rounded-md text-sm font-bold border border-gray-700">æ­·å±†é«˜é »å–®å­—ç¥å™¨</a>
                        <a href="conversation.html" className="text-gray-300 hover:text-white hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition">å¯¦ç”¨ç”Ÿæ´»è‹±æ–‡</a>
                        <a href="tutoring.html" className="text-gray-300 hover:text-white hover:bg-gray-700 px-3 py-2 rounded-md text-sm font-medium transition">é—œæ–¼æˆ‘ / å®¶æ•™èª²ç¨‹</a>
                    </div>
                </div>
                <div className="md:hidden flex items-center">
                    <button onClick={() => document.getElementById('mobile-menu').classList.toggle('hidden')} className="text-gray-300 hover:text-white focus:outline-none p-2">â˜°</button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" className="hidden md:hidden bg-gray-800 border-t border-gray-700">
            <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" className="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">å­¸æ¸¬è‹±æ–‡æŒ‡å¼•</a>
                <a href="vocab.html" className="text-yellow-400 block px-3 py-2 rounded-md text-base font-bold bg-gray-900">æ­·å±†é«˜é »å–®å­—ç¥å™¨</a>
                <a href="conversation.html" className="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">å¯¦ç”¨ç”Ÿæ´»è‹±æ–‡</a>
                <a href="tutoring.html" className="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">é—œæ–¼æˆ‘ / å®¶æ•™èª²ç¨‹</a>
            </div>
        </div>
      </nav>

      {/* Header */}
      <header className="bg-gradient-to-r from-blue-700 to-indigo-800 text-white pt-12 pb-24 px-6 relative overflow-hidden">
        <div className="max-w-5xl mx-auto relative z-10">
          <div className="flex items-center gap-3 mb-4 opacity-80">
            <GraduationCap size={24} />
            <span className="text-sm font-bold tracking-wider uppercase">å­¸æ¸¬è‹±æ–‡å‚™è€ƒå°ˆå€</span>
          </div>
          <h1 className="text-3xl md:text-5xl font-extrabold mb-4 leading-tight">
            æ­·å±†å­¸æ¸¬è‹±æ–‡é«˜é »å–®å­—èˆ‡è©¦é¡Œåˆ†æ
          </h1>
        </div>
        <div className="absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-16 -mt-16 blur-3xl"></div>
        <div className="absolute bottom-0 left-10 w-48 h-48 bg-blue-400 opacity-10 rounded-full blur-2xl"></div>
      </header>

      <main className="max-w-5xl mx-auto px-4 -mt-16 relative z-20 pb-20">
        
        {/* Controls */}
        <div className="bg-white rounded-xl shadow-lg p-4 mb-8">
          <div className="flex flex-col lg:flex-row gap-4 justify-between items-center">
            
            {/* Tabs */}
            <div className="flex overflow-x-auto w-full lg:w-auto gap-2 pb-2 lg:pb-0 scrollbar-hide">
              {[
                { id: 'verbs', label: 'æ ¸å¿ƒå‹•è©', icon: PenTool },
                { id: 'adj', label: 'é—œéµå½¢å®¹è©', icon: Hash },
                { id: 'nouns', label: 'æŠ½è±¡åè©', icon: BookOpen },
                { id: 'adv', label: 'å‰¯è©èˆ‡è¾¨æ', icon: AlertCircle },
                { id: 'practice', label: 'å¯¦æˆ°æ¨¡è€ƒ', icon: BrainCircuit },
                { id: 'tips', label: 'çµ¦è€ƒç”Ÿçš„è©±', icon: Lightbulb },
              ].map(tab => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`flex items-center gap-2 px-4 py-2.5 rounded-lg whitespace-nowrap transition-all font-medium text-sm border ${
                    activeTab === tab.id 
                    ? 'bg-indigo-600 text-white border-indigo-600 shadow-md transform scale-105' 
                    : 'bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:border-slate-300'
                  }`}
                >
                  <tab.icon size={16} />
                  {tab.label}
                </button>
              ))}
            </div>

            {/* Mask Toggle (Visible for list views) */}
            {(activeTab !== 'practice' && activeTab !== 'tips') && (
              <button 
                onClick={() => setIsMasked(!isMasked)}
                className={`flex items-center gap-2 px-4 py-2.5 rounded-lg font-bold text-sm transition-all shadow-sm border ${
                    isMasked 
                    ? 'bg-amber-100 text-amber-800 border-amber-300 ring-2 ring-amber-200' 
                    : 'bg-white text-slate-600 border-slate-200 hover:bg-slate-50'
                }`}
              >
                {isMasked ? <EyeOff size={18} /> : <Eye size={18} />}
                {isMasked ? 'èƒŒå–®å­—æ¨¡å¼ï¼šé–‹å•Ÿ' : 'èƒŒå–®å­—æ¨¡å¼ï¼šé—œé–‰'}
              </button>
            )}
          </div>
        </div>

        {/* Content Area */}
        <div className="animate-fade-in">
          
          {/* Section Description */}
          <div className="mb-6">
            {activeTab === 'verbs' && <div className="text-slate-600 font-medium border-l-4 border-blue-500 pl-4 py-1"> Part 1. å¿…è€ƒæ ¸å¿ƒå‹•è©ï¼šå¸¸å‡ºç¾æ–¼è©å½™é¡Œé¸é …æˆ–é–±è®€æ¸¬é©—çš„é—œéµå‹•ä½œã€‚</div>}
            {activeTab === 'adj' && <div className="text-slate-600 font-medium border-l-4 border-purple-500 pl-4 py-1"> Part 2. é«˜é »é—œéµå½¢å®¹è©ï¼šæ±ºå®šèªæ°£èˆ‡æ…‹åº¦ï¼Œæ˜¯åˆ¤æ–·ã€Œä½œè€…ç«‹å ´ã€çš„é—œéµã€‚</div>}
            {activeTab === 'nouns' && <div className="text-slate-600 font-medium border-l-4 border-emerald-500 pl-4 py-1"> Part 3. æŠ½è±¡èˆ‡å­¸è¡“åè©ï¼šé–±è®€æ¸¬é©—ä¸­è‹¥çœ‹ä¸æ‡‚ï¼Œå¾€å¾€æœƒå°è‡´æ•´æ®µå¤§æ„æŠ“ä¸åˆ°ã€‚</div>}
            {activeTab === 'adv' && <div className="text-slate-600 font-medium border-l-4 border-amber-500 pl-4 py-1"> Part 4. æ˜“æ··æ·†èˆ‡é«˜é »å‰¯è©ï¼šæŒæ¡èªæ°£è½‰æŠ˜èˆ‡ç¨‹åº¦ï¼Œå°å…‹æ¼å­—æ‹¿åˆ†è‡³é—œé‡è¦ã€‚</div>}
            {activeTab === 'practice' && <div className="text-slate-600 font-medium border-l-4 border-indigo-500 pl-4 py-1"> Part 5. å¯¦æˆ°ç·´ç¿’ï¼šAI éš¨æ©Ÿç”Ÿæˆé¡Œç›®ï¼Œè«‹å¤šåŠ åˆ©ç”¨ã€Œç”Ÿæˆæ–°è©¦å·ã€åŠŸèƒ½ã€‚</div>}
          </div>

          {/* Tables with Masking */}
          {activeTab === 'verbs' && <TableView data={verbsData} />}
          {activeTab === 'adj' && <TableView data={adjectivesData} />}
          {activeTab === 'nouns' && <TableView data={nounsData} />}

          {/* Practice Mode */}
          {activeTab === 'practice' && <PracticeMode />}

          {/* Adverbs & Confusing Pairs View (Updated with Masking) */}
          {activeTab === 'adv' && (
            <div className="grid md:grid-cols-2 gap-6">
              
              {/* Adverbs List */}
              <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <h3 className="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                  <span className="w-2 h-6 bg-amber-500 rounded-full"></span>
                  é«˜é »å‰¯è©
                </h3>
                <ul className="space-y-3">
                  {adverbsData.map((item, idx) => (
                    <li key={idx} className="flex flex-col sm:flex-row sm:items-baseline sm:justify-between border-b border-slate-50 pb-2 last:border-0 hover:bg-slate-50 p-2 rounded transition-colors">
                      <span className="font-bold text-blue-700 font-mono text-lg mr-2">{item.word}</span>
                      <span className="flex-1 text-right sm:text-left">
                        <RevealableText text={item.desc} isMasked={isMasked} />
                      </span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* Confusing Pairs */}
              <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                <h3 className="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                  <span className="w-2 h-6 bg-red-500 rounded-full"></span>
                  é‡é»è¾¨æ (å¿…èƒŒ)
                </h3>
                <div className="space-y-4">
                  {confusingPairs.map((item, idx) => (
                    <div key={idx} className="bg-slate-50 p-4 rounded-lg border border-slate-100">
                      <div className="font-bold text-slate-800 mb-2 font-mono">{item.pair}</div>
                      <RevealableText text={item.desc} isMasked={isMasked} />
                    </div>
                  ))}
                </div>
              </div>
            </div>
          )}

          {/* Tips View */}
          {activeTab === 'tips' && (
            <div className="grid md:grid-cols-3 gap-6">
              {tipsData.map((tip, idx) => (
                <div key={idx} className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow relative overflow-hidden group">
                  <div className="absolute top-0 right-0 w-24 h-24 bg-blue-100 rounded-full -mr-12 -mt-12 opacity-50 group-hover:scale-110 transition-transform"></div>
                  <h3 className="text-xl font-bold text-slate-800 mb-4 relative z-10">{tip.title}</h3>
                  <p className="text-slate-600 leading-relaxed relative z-10">{tip.content}</p>
                </div>
              ))}
            </div>
          )}

        </div>
      </main>

      <footer className="bg-slate-800 text-slate-400 py-8 text-center text-sm">
        <p>æ­·å±†å­¸æ¸¬è‹±æ–‡é«˜é »å–®å­—èˆ‡è©¦é¡Œåˆ†æ</p>
        <p className="mt-2 text-slate-500">Based on GSAT English Exam Trends</p>
      </footer>
    </div>
  );
};

export default VocabularyApp;
